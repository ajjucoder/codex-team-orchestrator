# V2-004 Permission Observability and Audit Evidence

## Scope
Emit structured permission decision audit data for every tool call and keep the trail replayable/deterministic.

## Implemented
1. Permission decision metadata logging on every tool call:
   - `mcp/server/server.ts`
2. Permission audit contract type for structured payloads:
   - `mcp/schemas/contracts.ts`
3. Unit + integration audit trail verification:
   - `tests/unit/v2-004.permissions-observability.test.ts`
   - `tests/integration/v2-004.permissions-observability.integration.test.ts`

## Acceptance Criteria
1. Logs include `source_profile`, `matched_rule`, and `deny_reason`.
2. Replay output includes deterministic permission decision evidence for allow/deny outcomes.

## Evidence
- `docs/v2-baseline/v2-004-permission-observability.txt`
