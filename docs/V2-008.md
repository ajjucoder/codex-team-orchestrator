# V2-008 Hook Engine Core (Block/Allow Pipeline)

## Scope
Implement a lifecycle hook engine with deterministic pre/post interception, ordering, timeout handling, and explicit block traces.

## Implemented
1. Hook engine core:
   - `mcp/server/hooks.ts`
2. Server integration with lifecycle hook points:
   - `mcp/server/server.ts`
   - Hook events: `spawn`, `task_claim`, `task_complete`, `finalize`, `resume`
3. Server factory wiring:
   - `mcp/server/index.ts`
4. Hook semantics tests:
   - `tests/unit/v2-008.hooks.test.ts`
   - `tests/integration/v2-008.hooks.integration.test.ts`

## Acceptance Criteria
1. Hooks execute in deterministic order.
2. Timeout and fail-open/fail-closed behavior is enforced.
3. Pre-hooks can block operations with explicit error + trace.
4. Post-hooks are captured for observability without forcing rollback.

## Evidence
- `docs/v2-baseline/v2-008-hooks.txt`
