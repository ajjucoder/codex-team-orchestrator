# AT-012 Adaptive Fan-out and Budget Controller

Implemented:
- Adaptive fan-out controller with explicit size bands:
  - small: `1-2`
  - medium: `3-4`
  - high: `5-6`
- Budget-aware recommendation logic (`budget_tokens_remaining` / `token_cost_per_agent`)
- Telemetry-aware budget controller that can derive `token_cost_per_agent` from recent team usage samples
- Dynamic call-multiplier estimator from observed per-agent tool-call density (replaces static multiplier guess)
- Global telemetry fallback when a team does not yet have enough local usage history
- Optional `planned_roles` input to make telemetry estimates role-aware during fan-out planning
- Hard safety cap enforcement (`threads <= 6`) independent of profile/input
- Planning tool: `team_plan_fanout`

Acceptance notes:
- Recommendations respect budget constraints and may drop below profile range minimum under strict budget pressure
- No recommendation can exceed `6`
- Integration validates all three task-size bands, hard-cap behavior, local telemetry estimation, and global telemetry fallback
