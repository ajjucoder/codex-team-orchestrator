# AT-015 Codex Skill Integration and Trigger Phrase

Implemented:
- Trigger phrase detector for `use agents team` (legacy alias `use agent teams` preserved)
- Trigger tool: `team_trigger`
- Automatic orchestration team start when trigger phrase is present
- Objective extraction from trigger-prefixed prompt
- Complexity inference (`small|medium|high`) from trigger prompt
- Policy-aware auto-spawn of specialist agents with hard cap `max_threads<=6`
- Trigger fan-out planning now defaults to telemetry/global-telemetry estimation unless `token_cost_per_agent` is explicitly provided
- Trigger response now surfaces `orchestration.budget_controller` details for observability
- Trigger auto-spawn prefers DAG-ready role shaping via `team_spawn_ready_roles` when available, with static-sequence fallback

Acceptance notes:
- Trigger detection is case-insensitive and phrase-based
- Team auto-start preserves model inheritance when provided
- Auto-spawn uses fan-out planning when available and respects profile/team thread limits
- Trigger no longer injects static token-cost guesses by default; telemetry estimator can drive planning decisions
- Trigger response includes spawn strategy details (`spawn_strategy`, `planned_roles`) for staffing transparency
- Integration confirms trigger and lifecycle calls are visible in structured logs
