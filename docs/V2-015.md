# V2-015 Artifact Checkpoint Compaction and Context Reset

## Scope
Implement context checkpoint compaction for long runs and add resumable context reset that preserves recovery integrity.

## Implemented
1. Checkpoint compaction and reset tools:
   - `mcp/server/tools/checkpoints.ts`
   - `team_checkpoint_compact`
   - `team_context_reset`
2. Store context-footprint and prune primitives:
   - `mcp/store/sqlite-store.ts`
   - `estimateContextFootprint`
   - `pruneTeamContext`
3. Resume hydration of checkpoint metadata:
   - `mcp/server/tools/team-lifecycle.ts`
   - `team_resume` now includes `checkpoint` and `context_reset` in recovery snapshot
4. Tool schemas/contracts:
   - `mcp/schemas/tools/team_checkpoint_compact.schema.json`
   - `mcp/schemas/tools/team_context_reset.schema.json`
   - `mcp/schemas/contracts.ts`
5. Validation tests:
   - `tests/unit/v2-015.checkpoint-compaction.test.ts`
   - `tests/integration/v2-015.checkpoint-compaction.integration.test.ts`

## Acceptance Criteria
1. Checkpoint compaction reduces active context footprint on long runs.
2. Checkpoint artifact is checksum-verified and readable.
3. Context reset references checkpoint and is resumable.
4. Resume snapshot surfaces checkpoint/reset metadata for deterministic recovery.

## Evidence
- `docs/v2-baseline/v2-015-checkpoint-compaction.txt`
